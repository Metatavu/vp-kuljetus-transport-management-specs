openapi: 3.0.3
info:
  title: Vehicle Management Services (management)
  description: Vehicle Management Services (management)
  version: 1.0.0
security:
  - BearerAuth:
      - driver
      - manager
paths:
  /vehicle-management/v1/trucks:
    get:
      operationId: listTrucks
      summary: List Trucks.
      description: Lists Trucks.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Trucks
      parameters:
        - name: plateNumber
          in: query
          description: Filter results by plate number
          schema:
            type: string
        - name: archived
          in: query
          description: Filter results by archived status
          schema:
            type: boolean
        - name: sortBy
          in: query
          description: Sort results by field
          schema:
            $ref: "#/components/schemas/TruckSortByField"
        - name: sortDirection
          in: query
          description: Sort direction
          schema:
            $ref: "#/components/schemas/SortOrder"
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of trucks
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Truck"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createTruck
      summary: Create truck
      description: Create new truck
      security:
        - BearerAuth:
            - manager
      tags:
        - Trucks
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Truck"
        description: Payload
        required: true
      responses:
        "200":
          description: Created truck
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Truck"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /vehicle-management/v1/trucks/{truckId}:
    get:
      operationId: findTruck
      summary: Find a truck.
      description: Finds a truck by id.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Trucks
      parameters:
        - name: truckId
          required: true
          in: path
          description: trucks id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found truck
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Truck"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateTruck
      summary: Updates trucks
      description: Updates single truck
      security:
        - BearerAuth:
            - manager
      tags:
        - Trucks
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Truck"
        description: Payload
        required: true
      parameters:
        - name: truckId
          required: true
          in: path
          description: truck id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Updated truck
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Truck"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /vehicle-management/v1/trucks/{truckId}/locations:
    get:
      operationId: listTruckLocations
      summary: List Truck locations
      description: Lists Truck locations.
      security:
        - BearerAuth:
            - manager
      tags:
        - Trucks
      parameters:
        - name: truckId
          required: true
          in: path
          description: truck id
          schema:
            type: string
            format: uuid
        - name: after
          in: query
          description: Filter results after given date-time
          schema:
            type: string
            format: date-time
        - name: before
          in: query
          description: Filter results before given date-time
          schema:
            type: string
            format: date-time
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of truck locations
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TruckLocation"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /vehicle-management/v1/trucks/{truckId}/speeds:
    get:
      operationId: listTruckSpeeds
      summary: List Truck speeds
      description: Lists Truck speeds.
      security:
        - BearerAuth:
            - manager
      tags:
        - Trucks
      parameters:
        - name: truckId
          required: true
          in: path
          description: truck id
          schema:
            type: string
            format: uuid
        - name: after
          in: query
          description: Filter results after given date-time
          schema:
            type: string
            format: date-time
        - name: before
          in: query
          description: Filter results before given date-time
          schema:
            type: string
            format: date-time
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of truck speeds
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TruckSpeed"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /vehicle-management/v1/trucks/{truckId}/driveStates:
    get:
      operationId: listDriveStates
      summary: List drive states.
      description: Lists drive states for truck.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Trucks
      parameters:
        - name: truckId
          required: true
          in: path
          description: truck id
          schema:
            type: string
            format: uuid
        - name: driverId
          in: query
          description: Filter results by driver ID
          schema:
            type: string
            format: uuid
        - name: state
          in: query
          description: Filter results by driver state
          schema:
            type: array
            items:
              $ref: "#/components/schemas/TruckDriveStateEnum"
        - name: after
          in: query
          description: Filter results after given date-time
          schema:
            type: string
            format: date-time
        - name: before
          in: query
          description: Filter results before given date-time
          schema:
            type: string
            format: date-time
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of drive states
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TruckDriveState"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /vehicle-management/v1/towables:
    get:
      operationId: listTowables
      summary: List Towables.
      description: Lists Towables.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Towables
      parameters:
        - name: plateNumber
          in: query
          description: Filter results by plate number
          schema:
            type: string
        - name: archived
          in: query
          description: Filter results by archived status
          schema:
            type: boolean
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of towables
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Towable"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createTowable
      summary: Create towable
      description: Create new towable
      security:
        - BearerAuth:
            - manager
      tags:
        - Towables
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Towable"
        description: Payload
        required: true
      responses:
        "200":
          description: Created towable
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Towable"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /vehicle-management/v1/towables/{towableId}:
    get:
      operationId: findTowable
      summary: Find a towable.
      description: Finds a towable by id.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Towables
      parameters:
        - name: towableId
          required: true
          in: path
          description: towables id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found towable
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Towable"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateTowable
      summary: Updates towables
      description: Updates single towable
      security:
        - BearerAuth:
            - manager
      tags:
        - Towables
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Towable"
        description: Payload
        required: true
      parameters:
        - name: towableId
          required: true
          in: path
          description: towable id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Updated towable
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Towable"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /vehicle-management/v1/vehicles:
    get:
      operationId: listVehicles
      summary: List Vehicles.
      description: Lists Vehicles.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Vehicles
      parameters:
        - name: truckId
          in: query
          description: Filter results by truck id
          schema:
            type: string
            format: uuid
        - name: archived
          in: query
          description: Filter results by archived status
          schema:
            type: boolean
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of vehicles
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Vehicle"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createVehicle
      summary: Create vehicle
      description: >
        Create new vehicle. Vehicles are the history of the combinations of
        towables behind a truck. When a vehicle structure needs to be updated, a
        new vehicle with updated structure should be created. This updates the
        active vehicle for the truck and archives the previous one.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Vehicles
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Vehicle"
        description: Payload
        required: true
      responses:
        "200":
          description: Created vehicle
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Vehicle"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /vehicle-management/v1/vehicles/{vehicleId}:
    get:
      operationId: findVehicle
      summary: Find a vehicle.
      description: Finds a vehicle by id.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Vehicles
      parameters:
        - name: vehicleId
          required: true
          in: path
          description: vehicles id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found vehicle
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Vehicle"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /work-planning/v1/routes:
    get:
      operationId: listRoutes
      summary: List Routes.
      description: Lists Routes.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Routes
      parameters:
        - name: truckId
          in: query
          description: Filter results by truck id
          schema:
            type: string
            format: uuid
        - name: driverId
          in: query
          description: Filter results by driver id
          schema:
            type: string
            format: uuid
        - name: departureAfter
          in: query
          description: Filter results by departure time same or after this time
          schema:
            type: string
            format: date-time
        - name: departureBefore
          in: query
          description: Filter results by departure time before this time
          schema:
            type: string
            format: date-time
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of routes
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Route"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createRoute
      summary: Create route
      description: Create new route
      security:
        - BearerAuth:
            - manager
      tags:
        - Routes
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Route"
        description: Payload
        required: true
      responses:
        "200":
          description: Created route
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Route"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /work-planning/v1/routes/{routeId}:
    get:
      operationId: findRoute
      summary: Find a route.
      description: Finds a route by id.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Routes
      parameters:
        - name: routeId
          required: true
          in: path
          description: routes id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found route
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Route"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateRoute
      summary: Updates routes
      description: Updates single route
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Routes
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Route"
        description: Payload
        required: true
      parameters:
        - name: routeId
          required: true
          in: path
          description: route id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Updated route
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Route"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      operationId: deleteRoute
      summary: Deletes route
      description: Deletes route
      security:
        - BearerAuth:
            - manager
      tags:
        - Routes
      parameters:
        - name: routeId
          required: true
          in: path
          description: route id
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Empty response indicating successful removal
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/drivers:
    get:
      operationId: listDrivers
      summary: List Drivers.
      description: Lists Drivers.
      security:
        - BearerAuth:
            - manager
        - ApiKeyAuth: []
      tags:
        - Drivers
      parameters:
        - name: driverCardId
          in: query
          description: Filter drivers by driver card ID. Will return 0 to 1 drivers.
          schema:
            type: string
        - name: archived
          in: query
          description: Filter drivers by archived status
          schema:
            type: boolean
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of routes
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Driver"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/drivers/{driverId}:
    get:
      operationId: findDriver
      summary: Find a driver.
      description: Finds a driver by ID.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Drivers
      parameters:
        - name: driverId
          required: true
          in: path
          description: driver's ID
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found driver
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Driver"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/employees:
    get:
      operationId: listEmployees
      summary: List Employees.
      description: Lists Employees. A user is considered an employee if they're given
        the employee realm role.
      security:
        - BearerAuth:
            - manager
      tags:
        - Employees
      parameters:
        - name: search
          in: query
          description: Search string. Should search from first and last names.
          schema:
            type: string
        - name: salaryGroup
          in: query
          description: Filter employees by salary group
          schema:
            $ref: "#/components/schemas/SalaryGroup"
        - name: type
          in: query
          description: Filter employees by type
          schema:
            $ref: "#/components/schemas/EmployeeType"
        - name: office
          in: query
          description: Filter employees by office
          schema:
            $ref: "#/components/schemas/Office"
        - name: archived
          in: query
          description: Filter employees by archived status
          schema:
            type: boolean
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
            default: 0
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: List of employees
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Employee"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createEmployee
      summary: Create Employee.
      description: Creates Employee. All new users created via this endpoint should be
        given the employee realm role.
      security:
        - BearerAuth:
            - manager
      tags:
        - Employees
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Employee"
      responses:
        "201":
          description: Created employee
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Employee"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/employees/{employeeId}:
    get:
      operationId: findEmployee
      summary: Find an employee.
      description: Finds an employee by ID.
      security:
        - BearerAuth:
            - manager
      tags:
        - Employees
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found employee
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Employee"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateEmployee
      summary: Update Employee.
      description: Updates Employee.
      security:
        - BearerAuth:
            - manager
      tags:
        - Employees
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Employee"
      responses:
        "200":
          description: Updated employee
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Employee"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      operationId: deleteEmployee
      summary: Delete Employee.
      description: >
        Deletes Employee.

        This should only be allowed to be used in tests. In production usage the employee should be archived instead.
      security:
        - BearerAuth:
            - manager
      tags:
        - Employees
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Empty response indicating successful removal
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/employees/{employeeId}/workEvents:
    get:
      operationId: listEmployeeWorkEvents
      summary: List Employees Time Entries.
      description: Lists Employees Work Events. Sort by start time, latest first.
      security:
        - BearerAuth:
            - manager
            - driver
            - employee
      tags:
        - WorkEvents
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
        - name: after
          in: query
          description: Filter work events after specified date.
          schema:
            type: string
            format: date-time
        - name: before
          in: query
          description: Filter work events before specified date.
          schema:
            type: string
            format: date-time
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
            default: 0
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: List of work events
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/WorkEvent"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createEmployeeWorkEvent
      summary: Create Employees Work Event.
      description: Creates Employees Work Event.
      security:
        - BearerAuth:
            - manager
            - driver
            - employee
      tags:
        - WorkEvents
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WorkEvent"
      responses:
        "201":
          description: Created work event
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkEvent"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/employees/{employeeId}/workEvents/{workEventId}:
    get:
      operationId: findEmployeeWorkEvent
      summary: Find an employee's work event.
      description: Finds an employee's work event by ID.
      security:
        - BearerAuth:
            - manager
            - driver
            - employee
      tags:
        - WorkEvents
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
        - name: workEventId
          required: true
          in: path
          description: work event's ID
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found work event
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkEvent"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateEmployeeWorkEvent
      summary: Update Employee's Work Event.
      description: Updates Employee's Work Event.
      security:
        - BearerAuth:
            - manager
            - employee
      tags:
        - WorkEvents
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
        - name: workEventId
          required: true
          in: path
          description: work event's ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WorkEvent"
      responses:
        "200":
          description: Updated time entry
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkEvent"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      operationId: deleteEmployeeWorkEvent
      summary: Delete Employee's Work Event.
      description: Deletes Employee's Work Event. Only accessible by managers.
      security:
        - BearerAuth:
            - manager
      tags:
        - WorkEvents
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
        - name: workEventId
          required: true
          in: path
          description: work event's ID
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Successfully deleted the time entry
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/employees/{employeeId}/dailyTimeEntries:
    get:
      operationId: listEmployeeDailyTimeEntries
      summary: List Employees Daily Time Entries.
      description: Lists Employees Daily Time Entries. There can be 0-1 daily time
        entries per work type per day.
      security:
        - BearerAuth:
            - manager
      tags:
        - DailyTimeEntries
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
        - name: workEventType
          in: query
          description: List daily time entries only for specified work type.
          schema:
            $ref: "#/components/schemas/WorkEventType"
        - name: start
          in: query
          description: List daily time entries only after specified date.
          schema:
            type: string
            format: date
        - name: end
          in: query
          description: List daily time entries only before specified date.
          schema:
            type: string
            format: date
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
            default: 0
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: List of daily time entries
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DailyTimeEntry"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createEmployeeDailyTimeEntry
      summary: Create Employees Daily Time Entry.
      description: >
        Creates Employees Daily Time Entry.


        Attempt to create new daily time entry should fail if a daily entry with the same date and work type already exists.
      security:
        - BearerAuth:
            - manager
      tags:
        - DailyTimeEntries
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DailyTimeEntry"
      responses:
        "201":
          description: Created daily time entry
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkEvent"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/employees/{employeeId}/dailyTimeEntries/{dailyTimeEntryId}:
    get:
      operationId: findEmployeeDailyTimeEntry
      summary: Find an employee's daily time entry.
      description: Finds an employee's daily time entry by ID.
      security:
        - BearerAuth:
            - manager
      tags:
        - DailyTimeEntries
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
        - name: dailyTimeEntryId
          required: true
          in: path
          description: daily time entry's ID
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found daily time entry
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DailyTimeEntry"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateEmployeeDailyTimeEntry
      summary: Update Employee's Daily Time Entry.
      description: >
        Updates Employee's Daily Time Entry.


        Trying to update other than total hours from an entry should fail, as that could potentially

        clash with another entry. Instead, incorrect entry should be deleted and new one created.
      security:
        - BearerAuth:
            - manager
      tags:
        - DailyTimeEntries
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
        - name: dailyTimeEntryId
          required: true
          in: path
          description: daily time entry's ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DailyTimeEntry"
      responses:
        "200":
          description: Updated daily time entry
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DailyTimeEntry"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      operationId: deleteEmployeeDailyTimeEntry
      summary: Delete Employee's Daily Time Entry.
      description: Deletes Employee's Daily Time Entry.
      security:
        - BearerAuth:
            - manager
      tags:
        - DailyTimeEntries
      parameters:
        - name: employeeId
          required: true
          in: path
          description: employee's ID
          schema:
            type: string
            format: uuid
        - name: dailyTimeEntryId
          required: true
          in: path
          description: daily time entry's ID
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Successfully deleted the daily time entry
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/holidays:
    get:
      operationId: listHolidays
      summary: List Holidays.
      description: Lists holidays.
      security:
        - BearerAuth:
            - manager
      tags:
        - Holidays
      parameters:
        - name: year
          in: query
          description: What years holidays to list.
          schema:
            type: integer
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
            default: 0
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: List of holidays
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Holiday"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createHoliday
      summary: Create Holiday.
      description: Creates Holiday.
      security:
        - BearerAuth:
            - manager
      tags:
        - Holidays
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Holiday"
      responses:
        "201":
          description: Created Holiday
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Holiday"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /user-management/v1/holidays/{holidayId}:
    get:
      operationId: findHoliday
      summary: Find an Holiday.
      description: Finds an Holiday by ID.
      security:
        - BearerAuth:
            - manager
      tags:
        - Holidays
      parameters:
        - name: holidayId
          required: true
          in: path
          description: Holiday's ID
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found Holiday
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Holiday"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateHoliday
      summary: Update Holiday.
      description: Updates Holiday.
      security:
        - BearerAuth:
            - manager
      tags:
        - Holidays
      parameters:
        - name: holidayId
          required: true
          in: path
          description: Holidays's ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Holiday"
      responses:
        "200":
          description: Updated Holiday
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Holiday"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      operationId: deleteHoliday
      summary: Delete Holiday.
      description: Deletes Holiday.
      security:
        - BearerAuth:
            - manager
      tags:
        - Holidays
      parameters:
        - name: holidayId
          required: true
          in: path
          description: Holiday's ID
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Empty response indicating successful removal
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /delivery-info/v1/sites:
    get:
      operationId: listSites
      summary: List Sites.
      description: Lists Sites.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Sites
      parameters:
        - name: archived
          in: query
          description: Filter sites by archived status
          schema:
            type: boolean
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of sites
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Site"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createSite
      summary: Create site
      description: Create new site
      security:
        - BearerAuth:
            - manager
      tags:
        - Sites
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Site"
        description: Payload
        required: true
      responses:
        "200":
          description: Created site
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Site"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /delivery-info/v1/sites/{siteId}:
    get:
      operationId: findSite
      summary: Find a site.
      description: Finds a site by id.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Sites
      parameters:
        - name: siteId
          required: true
          in: path
          description: site id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found site
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Site"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateSite
      summary: Updates site
      description: Updates single site
      security:
        - BearerAuth:
            - manager
      tags:
        - Sites
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Site"
        description: Payload
        required: true
      parameters:
        - name: siteId
          required: true
          in: path
          description: site id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Updated site
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Site"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /delivery-info/v1/tasks:
    get:
      operationId: listTasks
      summary: List Tasks.
      description: Lists Tasks.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Tasks
      parameters:
        - name: routeId
          in: query
          description: Route id
          schema:
            type: string
            format: uuid
        - name: assignedToRoute
          in: query
          description: Has been assigned to a route. Should not be used together with
            routeId.
          schema:
            type: boolean
        - name: freightId
          in: query
          description: Freight id
          schema:
            type: string
            format: uuid
        - name: customerSiteId
          in: query
          description: Customer site id
          schema:
            type: string
            format: uuid
        - name: type
          in: query
          description: Task type
          schema:
            $ref: "#/components/schemas/TaskType"
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of tasks
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Task"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createTask
      summary: Create task
      description: Create new task
      security:
        - BearerAuth:
            - manager
      tags:
        - Tasks
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Task"
        description: Payload
        required: true
      responses:
        "200":
          description: Created task
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Task"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /delivery-info/v1/tasks/{taskId}:
    get:
      operationId: findTask
      summary: Find a task.
      description: Finds a task by id.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Tasks
      parameters:
        - name: taskId
          required: true
          in: path
          description: task id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found task
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Task"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateTask
      summary: Updates task
      description: Updates single task
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Tasks
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Task"
        description: Payload
        required: true
      parameters:
        - name: taskId
          required: true
          in: path
          description: task id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Updated task
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Task"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      operationId: deleteTask
      summary: Deletes task
      description: Deletes task
      security:
        - BearerAuth:
            - manager
      tags:
        - Tasks
      parameters:
        - name: taskId
          required: true
          in: path
          description: task id
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Empty response indicating successful removal
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /delivery-info/v1/freights:
    get:
      operationId: listFreights
      summary: List Freights.
      description: Lists Freights.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Freights
      parameters:
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of freights
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Freight"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createFreight
      summary: Create freight
      description: Create new freight
      security:
        - BearerAuth:
            - manager
      tags:
        - Freights
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Freight"
        description: Payload
        required: true
      responses:
        "200":
          description: Created freight
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Freight"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /delivery-info/v1/freights/{freightId}:
    get:
      operationId: findFreight
      summary: Find a freight.
      description: Finds a freight by id.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - Freights
      parameters:
        - name: freightId
          required: true
          in: path
          description: freight id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found freight
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Freight"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateFreight
      summary: Updates freight
      description: Updates single freight
      security:
        - BearerAuth:
            - manager
      tags:
        - Freights
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Freight"
        description: Payload
        required: true
      parameters:
        - name: freightId
          required: true
          in: path
          description: freight id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Updated freight
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Freight"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      operationId: deleteFreight
      summary: Deletes freight
      description: Deletes freight
      security:
        - BearerAuth:
            - manager
      tags:
        - Freights
      parameters:
        - name: freightId
          required: true
          in: path
          description: freight id
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Empty response indicating successful removal
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /delivery-info/v1/freightUnits:
    get:
      operationId: listFreightUnits
      summary: List FreightUnits.
      description: Lists FreightUnits.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - FreightUnits
      parameters:
        - name: freightId
          in: query
          description: Freight id
          schema:
            type: string
            format: uuid
        - name: first
          in: query
          description: First result.
          schema:
            type: integer
        - name: max
          in: query
          description: Max results.
          schema:
            type: integer
      responses:
        "200":
          description: List of freight units
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/FreightUnit"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      operationId: createFreightUnit
      summary: Create freight unit
      description: Create new freight unit
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - FreightUnits
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FreightUnit"
        description: Payload
        required: true
      responses:
        "200":
          description: Created freight unit
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FreightUnit"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /delivery-info/v1/freightUnits/{freightUnitId}:
    get:
      operationId: findFreightUnit
      summary: Find a freight unit.
      description: Finds a freight unit by id.
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - FreightUnits
      parameters:
        - name: freightUnitId
          required: true
          in: path
          description: freight unit id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Found freight unit
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FreightUnit"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      operationId: updateFreightUnit
      summary: Updates freight unit
      description: Updates single freight unit
      security:
        - BearerAuth:
            - driver
            - manager
      tags:
        - FreightUnits
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FreightUnit"
        description: Payload
        required: true
      parameters:
        - name: freightUnitId
          required: true
          in: path
          description: freight unit id
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Updated freight unit
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FreightUnit"
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      operationId: deleteFreightUnit
      summary: Deletes freight unit
      description: Deletes freight unit
      security:
        - BearerAuth:
            - manager
      tags:
        - FreightUnits
      parameters:
        - name: freightUnitId
          required: true
          in: path
          description: freight unit id
          schema:
            type: string
            format: uuid
      responses:
        "204":
          description: Empty response indicating successful removal
        default:
          description: Invalid request was sent to the server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    TruckSortByField:
      type: string
      enum:
        - NAME
        - PLATE_NUMBER
    SortOrder:
      type: string
      enum:
        - ASCENDING
        - DESCENDING
    Truck:
      type: object
      description: Represent single truck
      required:
        - plateNumber
        - type
        - vin
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
        plateNumber:
          type: string
        type:
          type: string
          enum:
            - TRUCK
            - SEMI_TRUCK
        vin:
          type: string
          description: >
            Truck identification number. This is unique for each truck and
            should be used as a hardware identifier for this specific truck.
        activeVehicleId:
          type: string
          format: uuid
          readOnly: true
          description: >
            Active vehicle id. This is the current vehicle that the truck is
            part of. It updates whenever the vehicle structure is updated.
        creatorId:
          type: string
          readOnly: true
          format: uuid
        createdAt:
          format: date-time
          type: string
          readOnly: true
        lastModifierId:
          type: string
          readOnly: true
          format: uuid
        modifiedAt:
          format: date-time
          type: string
          readOnly: true
        archivedAt:
          type: string
          format: date-time
          description: >
            Setting the archivedAt time marks the truck as archived. Trucks
            marked as archived will not appear in list requests unless archived
            filter is set to true. Archived truck cannot be updated, unless
            archivedAt is first set to null.
    Error:
      type: object
      description: Error object
      required:
        - status
        - message
      properties:
        status:
          type: integer
          format: int32
        message:
          type: string
    TruckLocation:
      type: object
      required:
        - timestamp
        - latitude
        - longitude
        - heading
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        timestamp:
          type: integer
          format: int64
          description: Timestamp for truck speed
        latitude:
          type: number
          format: double
          description: Latitude in degrees.
        longitude:
          type: number
          format: double
          description: Longitude in degrees.
        heading:
          type: number
          format: double
          description: heading in degrees.
    TruckSpeed:
      type: object
      required:
        - timestamp
        - speed
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
          description: Truck speed ID
        timestamp:
          type: integer
          format: int64
          description: Timestamp for truck speed. Unix timestamp in milliseconds.
        speed:
          type: number
          format: float
    TruckDriveStateEnum:
      type: string
      enum:
        - REST
        - DRIVER_AVAILABLE
        - WORK
        - DRIVE
        - ERROR
        - NOT_AVAILABLE
    TruckDriveState:
      type: object
      required:
        - timestamp
        - state
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
          description: Truck drive state ID
        timestamp:
          type: integer
          format: int64
          description: Timestamp for truck drive state
        state:
          $ref: "#/components/schemas/TruckDriveStateEnum"
        driverId:
          type: string
          format: uuid
          readOnly: true
          description: Driver ID.
        driverCardId:
          type: string
          description: Driver card ID. This is used to identify the driver when creating a
            new drive state.
    Towable:
      type: object
      description: Represent single towable
      required:
        - plateNumber
        - type
        - vin
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
        plateNumber:
          type: string
        type:
          type: string
          enum:
            - TRAILER
            - SEMI_TRAILER
            - DOLLY
        vin:
          type: string
          description: >
            Towable identification number. This is unique for each towable and
            should be used as a hardware identifier for this specific towable.
        creatorId:
          type: string
          readOnly: true
          format: uuid
        createdAt:
          format: date-time
          type: string
          readOnly: true
        lastModifierId:
          type: string
          readOnly: true
          format: uuid
        modifiedAt:
          format: date-time
          type: string
          readOnly: true
        archivedAt:
          type: string
          format: date-time
          description: >
            Setting the archivedAt time marks the towable as archived. Towables
            marked as archived will not appear in list requests unless archived
            filter is set to true. Archived towable cannot be updated, unless
            archivedAt is first set to null.
    Vehicle:
      type: object
      description: Represent single vehicle
      required:
        - truckId
        - towableIds
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        truckId:
          type: string
          description: Truck that towing the vehicle
          format: uuid
        towableIds:
          type: array
          description: >
            List of attached towables to vehicle. Order of towables should
            reflect the order of towables in the vehicle where first towable is
            the closest to the truck.
          items:
            type: string
            format: uuid
        creatorId:
          type: string
          readOnly: true
          format: uuid
        createdAt:
          format: date-time
          type: string
          readOnly: true
        lastModifierId:
          type: string
          readOnly: true
          format: uuid
        modifiedAt:
          format: date-time
          type: string
          readOnly: true
        archivedAt:
          type: string
          format: date-time
          description: >
            Setting the archivedAt time marks the vehicle as archived. Vehicles
            marked as archived will not appear in list requests unless archived
            filter is set to true. Archived vehicle cannot be updated, unless
            archivedAt is first set to null.
    Route:
      type: object
      description: Represent single planned route for single truck driver
      required:
        - name
        - departureTime
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        truckId:
          type: string
          format: uuid
          description: Truck id
        driverId:
          type: string
          format: uuid
          description: Driver id
        name:
          type: string
          description: Name of the route
        departureTime:
          type: string
          format: date-time
          description: Departure time of the route
        creatorId:
          type: string
          readOnly: true
          format: uuid
        createdAt:
          format: date-time
          type: string
          readOnly: true
        lastModifierId:
          type: string
          readOnly: true
          format: uuid
        modifiedAt:
          format: date-time
          type: string
          readOnly: true
    Driver:
      type: object
      description: Represents single truck driver
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        displayName:
          type: string
          description: Driver display name
        archivedAt:
          type: string
          format: date-time
          description: >
            Setting the archivedAt time marks the driver as archived. Drivers
            marked as archived will not appear in list requests unless archived
            filter is set to true. Archived driver cannot be updated, unless
            archivedAt is first set to null.
    SalaryGroup:
      type: string
      description: >
        Employee's salary group

        Kuljettaja (Driver) - Should be default IF the employees office is not KOTKA

        VP-Logistics (VPlogistics)

        Office

        Terminal
      enum:
        - DRIVER
        - VPLOGISTICS
        - OFFICE
        - TERMINAL
    EmployeeType:
      type: string
      description: >
        Employee's type described as finnish abbreviation. UI implementations
        should translate these to more human readable form.

        Pakettiautonkuljettaja (PA)

        Kuorma-auton kuljettaja (KA)

        Alihankkija (AH)

        Vuokratyöntekijä (VK)

        Työharjoittelija (TH)

        Tilapäistyöntekijä (TP)

        Ajojärjestelijä (AJ)

        Esimies (JH)

        Aikatuntipalkka (AP)

        Kuukausipalkka (KK)

        Ei-aktiivinen (POIS)

        Täysperäkuljettaja (TPK)
      enum:
        - PA
        - KA
        - AH
        - VK
        - TH
        - TP
        - AJ
        - JH
        - AP
        - KK
        - POIS
        - TPK
    Office:
      type: string
      description: Employee's office. Salary group should be set to VPLogistics if the
        office is KOTKA
      enum:
        - KOTKA
        - KOUVOLA
        - RAUHA
    Employee:
      type: object
      description: Represents single employee
      required:
        - firstName
        - lastName
        - type
        - salaryGroup
        - office
        - employeeNumber
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        firstName:
          type: string
          description: Employee's first name
        lastName:
          type: string
          description: Employee's last name
        driverCardId:
          type: string
          description: Employee's driver card ID.
        type:
          $ref: "#/components/schemas/EmployeeType"
        salaryGroup:
          $ref: "#/components/schemas/SalaryGroup"
        office:
          $ref: "#/components/schemas/Office"
        regularWorkingHours:
          type: number
          format: float
          description: >
            Employee's regular working hours per two weeks. Used for employee's
            whose salary group is either Driver or VPLogistics.
        driverCardLastReadOut:
          type: string
          format: date-time
          description: >
            Last time the driver card was read out. In the beginning this should
            be set manually but later probably automated.
        employeeNumber:
          type: string
          description: Employee's number. Should be unique.
        email:
          type: string
          description: Employee's email address
        phoneNumber:
          type: string
          description: Employee's phone number
        archivedAt:
          type: string
          format: date-time
          description: >
            Setting the archivedAt time marks the employee as archived.
            Employees marked as archived will not appear in list requests unless
            archived filter is set to true. Archived employee cannot be updated,
            unless archivedAt is first set to null.
    WorkEvent:
      type: object
      description: Represents single work event
      required:
        - employeeId
        - startTime
        - workEventType
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        employeeId:
          type: string
          format: uuid
          description: Employee's ID
        startTime:
          type: string
          format: date-time
          description: Work event start time
        workEventType:
          $ref: "#/components/schemas/WorkEventType"
    WorkEventType:
      type: string
      description: >
        Work event types. UI implementations should translate these to more
        human readable form.


        *Office/Terminal work types*

        - VEGETABLE (Hevi)

        - DRY (Kuiva)

        - MEAT_CELLAR (Lihakellari)

        - MEIRA (Meira)

        - FROZEN (Pakaste)

        - PALTE (Palte)

        - BREWERY (Panimo)

        - GREASE (Rasva)

        - LOGIN

        - LOGOUT


        *Common work types*

        - OTHER_WORK (Muu työ)

        - BREAK (Tauko)

        - SHIFT_START

        - SHIFT_END


        *Driver work types*

        - DRIVE

        - LOADING

        - UNLOADING

        - AVAILABILITY

        - DRIVER_CARD_INSERTED

        - DRIVER_CARD_REMOVED
      enum:
        - VEGETABLE
        - DRY
        - MEAT_CELLAR
        - MEIRA
        - FROZEN
        - PALTE
        - BREWERY
        - GREASE
        - LOGIN
        - LOGOUT
        - OTHER_WORK
        - BREAK
        - SHIFT_START
        - SHIFT_END
        - DRIVE
        - LOADING
        - UNLOADING
        - AVAILABILITY
        - DRIVER_CARD_INSERTED
        - DRIVER_CARD_REMOVED
    DailyTimeEntry:
      type: object
      description: >
        Represents a single daily time entry. Daily time entries are created
        when total working hours

        of an employee for some work type needs to be manually changed for a specific day. Only a single

        daily time entry per work type per day is allowed. If one already exists, it should be updated.

        Daily time entry is always prioritized over calculating the total from the actual time entries

        when displaying the aggregated hours and sending the data to payroll.
      required:
        - employeeId
        - date
        - workEventType
        - hours
        - approved
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        employeeId:
          type: string
          format: uuid
          description: Employee's ID
        date:
          type: string
          format: date
          description: Daily time entry date
        workEventType:
          $ref: "#/components/schemas/WorkEventType"
        hours:
          type: number
          format: float
          description: Corrected hours for the day for corresponding work type.
        approved:
          type: boolean
          description: |
            Whether the daily time entry has been approved by a supervisor.
            Hours cannot be updated unless approved is set to false.
    Holiday:
      type: object
      description: Represents a single holiday
      required:
        - date
        - name
        - compensationType
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        date:
          type: string
          format: date
          description: Holiday date
        name:
          type: string
          description: Holiday name
        compensationType:
          $ref: "#/components/schemas/CompensationType"
        creatorId:
          type: string
          format: uuid
          description: Creator's ID
        lastModifierId:
          type: string
          format: uuid
          description: Last modifier's ID
        createdAt:
          type: string
          format: date-time
          description: Creation time
        modifiedAt:
          type: string
          format: date-time
          description: Last modified time
    CompensationType:
      type: string
      enum:
        - PUBLIC_HOLIDAY_ALLOWANCE
        - DAY_OFF_WORK_ALLOWANCE
    Site:
      type: object
      description: Represents a single customer site
      required:
        - name
        - location
        - address
        - postalCode
        - locality
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          description: Site name
        location:
          type: string
          format: wkt
          description: Site location as well-known text Point
        address:
          type: string
          description: Address of the site
        postalCode:
          type: string
          description: Postal code of the site
        locality:
          type: string
          description: Locality of the site
        additionalInfo:
          type: string
          description: >
            additional information about the site, e.g. delivery instructions.
            This is shown in the task for the driver.
        creatorId:
          type: string
          readOnly: true
          format: uuid
        createdAt:
          format: date-time
          type: string
          readOnly: true
        lastModifierId:
          type: string
          readOnly: true
          format: uuid
        modifiedAt:
          format: date-time
          type: string
          readOnly: true
        archivedAt:
          type: string
          format: date-time
          description: >
            Setting the archivedAt time marks the site as archived. Sites marked
            as archived will not appear in list requests unless archived filter
            is set to true. Archived site cannot be updated, unless archivedAt
            is first set to null.
    TaskType:
      type: string
      description: Type of the task
      enum:
        - UNLOAD
        - LOAD
    Task:
      type: object
      description: Represent single task for freight
      required:
        - freightId
        - customerSiteId
        - type
        - groupNumber
        - status
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        freightId:
          type: string
          format: uuid
          description: Freight id
        customerSiteId:
          type: string
          format: uuid
          description: Customer site id
        type:
          $ref: "#/components/schemas/TaskType"
        groupNumber:
          type: integer
          description: >
            Group number of the task. Gets a value of 0 by default. Can be
            updated from the management UI. All tasks with the same freightId,
            customerSiteId, type and group number are shown as grouped together
            in the driver app.
        orderNumber:
          type: integer
          description: >
            Order number of the task. Tasks have order numbers when being part
            of a route (having a routeId). Unallocated tasks (not having a
            routeId) do not have order numbers. When creating/updating a route
            with a routeId, the order number MUST also be in place. Negative
            order numbers are not allowed. If a number higher than the current
            amount of tasks in the route is used, it will be silently updated to
            be one higher than the current maximum. When either routeId or
            orderNumber is updated to a task, order numbers of other tasks with
            the same routeId are also updated accordingly. This means all of the
            tasks in a route should be reloaded when order number of a single
            task is updated. When updating a task to have an order number that
            already exists in the same route, the existing task is placed after
            the updated task. Tasks are also displayed as grouped, when they
            have the same routeId, customerSiteId, type and groupNumber. Order
            of tasks inside a group does not matter, so a new task added to the
            group will be the last task in the group. When order is updated, the
            grouping should be taken into account in order numbers. All of the
            grouped tasks should be next to each other. A task after the grouped
            tasks should have the next order number from the highest one of the
            group.
        status:
          $ref: "#/components/schemas/TaskStatus"
        remarks:
          type: string
          description: Task remarks
        routeId:
          type: string
          format: uuid
          description: Route id
        startedAt:
          type: string
          format: date-time
          readOnly: true
          description: >
            Time the task was started at. Filled when task status is changed
            from TODO to IN_PROGRESS.
        finishedAt:
          type: string
          format: date-time
          readOnly: true
          description: >
            Time the task was finished at. Filled when task status is changed
            from IN_PROGRESS to DONE.
        creatorId:
          type: string
          readOnly: true
          format: uuid
        createdAt:
          format: date-time
          type: string
          readOnly: true
        lastModifierId:
          type: string
          readOnly: true
          format: uuid
        modifiedAt:
          format: date-time
          type: string
          readOnly: true
    Freight:
      type: object
      description: Represents a single freight shipment, aka. waybill.
      required:
        - senderSiteId
        - recipientSiteId
        - pointOfDepartureSiteId
        - destinationSiteId
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        freightNumber:
          type: integer
          readOnly: true
          description: Freight number. Unique and auto-incremented.
        senderSiteId:
          type: string
          format: uuid
          description: Shipment sender site
        recipientSiteId:
          type: string
          format: uuid
          description: Shipment receiver site
        pointOfDepartureSiteId:
          type: string
          format: uuid
          description: Point of departure site
        destinationSiteId:
          type: string
          format: uuid
          description: Point of arrival site
        creatorId:
          type: string
          readOnly: true
          format: uuid
        createdAt:
          format: date-time
          type: string
          readOnly: true
        lastModifierId:
          type: string
          readOnly: true
          format: uuid
        modifiedAt:
          format: date-time
          type: string
          readOnly: true
    FreightUnit:
      type: object
      description: Represents a single freight unit in a freight shipment.
      required:
        - freightId
        - type
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        freightId:
          type: string
          format: uuid
          description: Id of the freight shipment
        type:
          type: string
          description: Type of the unit
        quantity:
          type: number
          format: double
          description: Quantity of the unit, can be a decimal number
        contents:
          type: string
          description: Description of contents of the unit
        reservations:
          type: string
          description: Reservations for the unit
        creatorId:
          type: string
          readOnly: true
          format: uuid
        createdAt:
          format: date-time
          type: string
          readOnly: true
        lastModifierId:
          type: string
          readOnly: true
          format: uuid
        modifiedAt:
          format: date-time
          type: string
          readOnly: true
    TaskStatus:
      type: string
      description: Status of the task
      enum:
        - TODO
        - IN_PROGRESS
        - DONE
